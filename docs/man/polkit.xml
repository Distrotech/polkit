<refentry id="polkit-1.1">
  <refentryinfo>
    <title>polkit-1</title>
    <date>January 2009</date>
    <productname>PolicyKit-1</productname>
  </refentryinfo>

  <refmeta>
    <refentrytitle>polkit-1</refentrytitle>
    <manvolnum>1</manvolnum>
    <refmiscinfo class="version"></refmiscinfo>
  </refmeta>

  <refnamediv>
    <refname>polkit-1</refname>
    <refpurpose>PolicyKit Authorization Tool</refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <cmdsynopsis>
      <command>polkit-1</command>
      <arg><option>--version</option></arg>
      <arg><option>--help</option></arg>
    </cmdsynopsis>

    <cmdsynopsis>
      <command>polkit-1 list</command>
      <group>
        <arg choice="plain">
          actions
          <arg><option>--verbose</option></arg>
        </arg>
        <arg choice="plain">
          <sbr/>
          users
          <arg><option>--verbose</option></arg>
        </arg>
        <arg choice="plain">
          <sbr/>
          groups
          <arg><option>--verbose</option></arg>
        </arg>
        <arg choice="plain">
          <sbr/>
          authorizations
        </arg>
        <arg choice="plain">
          <sbr/>
          explicit-authorizations <replaceable>identity</replaceable>
          <arg><option>--verbose</option></arg>
        </arg>
      </group>
    </cmdsynopsis>

    <cmdsynopsis>
      <command>polkit-1 check</command>
      <arg choice="plain"><replaceable>subject</replaceable></arg>
      <arg choice="plain"><replaceable>action-id</replaceable></arg>
    </cmdsynopsis>

    <cmdsynopsis>
      <command>polkit-1 add</command>
      <arg choice="plain"><replaceable>identity</replaceable></arg>
      <arg choice="plain"><replaceable>action-id</replaceable></arg>
      <arg><option>--subject <replaceable>subject</replaceable></option></arg>
    </cmdsynopsis>

    <cmdsynopsis>
      <command>polkit-1 remove</command>
      <arg choice="plain"><replaceable>identity</replaceable></arg>
      <arg choice="plain"><replaceable>action-id</replaceable></arg>
      <arg><option>--subject <replaceable>subject</replaceable></option></arg>
    </cmdsynopsis>

    <cmdsynopsis>
      <command>polkit-1 action</command>
      <arg choice="plain"><replaceable>action-id</replaceable></arg>
      <sbr/>
      <group>
        <arg choice="plain">
          set-implicit-any
          <replaceable>value</replaceable>
        </arg>
        <arg choice="plain">
          <sbr/>
          set-implicit-inactive
          <replaceable>value</replaceable>
        </arg>
        <arg choice="plain">
          <sbr/>
          set-implicit-active
          <replaceable>value</replaceable>
        </arg>
        <arg choice="plain">
          <sbr/>
          reset-implicit
        </arg>
      </group>
    </cmdsynopsis>

    <cmdsynopsis>
      <command>polkit-1 run</command>
      <arg choice="plain"><replaceable>action-id</replaceable></arg>
      <arg choice="plain"><replaceable>PROGRAM</replaceable></arg>
      <group rep="repeat">
        <arg choice="plain"><replaceable>ARGUMENTS</replaceable></arg>
      </group>
    </cmdsynopsis>

  </refsynopsisdiv>

  <refsect1><title>DESCRIPTION</title>
    <para>
      Manage PolicyKit authorizations.
    </para>
  </refsect1>

  <refsect1>
    <title>OPTIONS</title>
    <variablelist>
      <varlistentry>
        <term><option>--version</option></term>
        <listitem>
          <para>
            Show version and exit.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><option>--help</option></term>
        <listitem>
          <para>
            Show this information.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>

    <refsect2>
      <para>
        <command>polkit-1 list actions</command>
        <arg><option>--verbose</option></arg>
      </para>
      <para>
        Lists all identifiers for registered PolicyKit actions. The returned identifiers can be
        used as <replaceable>action-id</replaceable> parameters.
        Prints detailed information about each action if <option>--verbose</option> is given.
      </para>
    </refsect2>

    <refsect2>
      <para>
        <command>polkit-1 list users</command>
        <arg><option>--verbose</option></arg>
      </para>
      <para>
        Lists all users.
        The returned identifiers can be used as <replaceable>identity</replaceable> parameters.
        Prints detailed information about each user if <option>--verbose</option> is given.
        See <xref linkend="polkit-1-identity"/> for details about <replaceable>identity</replaceable>.
      </para>
    </refsect2>

    <refsect2>
      <para>
        <command>polkit-1 list groups</command>
        <arg><option>--verbose</option></arg>
      </para>
      <para>
        Lists all groups.
        The returned identifiers can be used as <replaceable>identity</replaceable> parameters.
        Prints detailed information about each group if <option>--verbose</option> is given.
        See <xref linkend="polkit-1-identity"/> for details about <replaceable>identity</replaceable>.
      </para>
    </refsect2>

    <refsect2>
      <para>
        <command>polkit-1 list authorizations</command>
      </para>
      <para>
        Lists all <replaceable>action-id</replaceable>s that the calling process is authorized for.
      </para>
    </refsect2>

    <refsect2>
      <para>
        <command>polkit-1 list explicit-authorizations <replaceable>identity</replaceable></command>
        <arg><option>--verbose</option></arg>
      </para>
      <para>
        Lists all explicit authorizations for <replaceable>identity</replaceable>.
        Prints detailed information about each authorization if <option>--verbose</option> is given.
        See <xref linkend="polkit-1-identity"/> for details about <replaceable>identity</replaceable>.
      </para>
    </refsect2>

    <refsect2>
      <para>
        <command>polkit-1 check</command>
        <arg choice="plain"><replaceable>subject</replaceable></arg>
        <arg choice="plain"><replaceable>action-id</replaceable></arg>
      </para>
      <para>
        Checks if <replaceable>subject</replaceable> is authorized for <replaceable>action-id</replaceable>.
        See <xref linkend="polkit-1-subject"/> for details about <replaceable>subject</replaceable>.
      </para>
    </refsect2>

    <refsect2>
      <para>
        <command>polkit-1 add</command>
        <arg choice="plain"><replaceable>identity</replaceable></arg>
        <arg choice="plain"><replaceable>action-id</replaceable></arg>
        <arg><option>--subject <replaceable>subject</replaceable></option></arg>
      </para>
      <para>
        Adds an authorization to <replaceable>identity</replaceable> for <replaceable>action-id</replaceable>
        optionally constraining its use for <replaceable>subject</replaceable>.
        See <xref linkend="polkit-1-identity"/> for details about <replaceable>identity</replaceable>
        and <xref linkend="polkit-1-subject"/> for details about <replaceable>subject</replaceable>.
      </para>
    </refsect2>

    <refsect2>
      <para>
        <command>polkit-1 remove</command>
        <arg choice="plain"><replaceable>identity</replaceable></arg>
        <arg choice="plain"><replaceable>action-id</replaceable></arg>
        <arg><option>--subject <replaceable>subject</replaceable></option></arg>
      </para>
      <para>
        Removes an authorization from <replaceable>identity</replaceable> for <replaceable>action-id</replaceable>
        which, optionally, is constrained to <replaceable>subject</replaceable>.
        See <xref linkend="polkit-1-identity"/> for details about <replaceable>identity</replaceable>
        and <xref linkend="polkit-1-subject"/> for details about <replaceable>subject</replaceable>.
      </para>
    </refsect2>

    <refsect2>
      <para>
        <command>polkit-1 action</command>
        <arg choice="plain"><replaceable>action-id</replaceable></arg>
        <arg choice="plain">
          set-implicit-any
          <replaceable>value</replaceable>
        </arg>
      </para>
      <para>
        Sets the implicit authorizations on
        <replaceable>action-id</replaceable> to <replaceable>value</replaceable>.
      </para>
    </refsect2>

    <refsect2>
      <para>
        <command>polkit-1 action</command>
        <arg choice="plain"><replaceable>action-id</replaceable></arg>
        <arg choice="plain">
          set-implicit-inactive
          <replaceable>value</replaceable>
        </arg>
      </para>
      <para>
        Sets the implicit authorizations for local inactive sessions on
        <replaceable>action-id</replaceable> to <replaceable>value</replaceable>.
      </para>
    </refsect2>

    <refsect2>
      <para>
        <command>polkit-1 action</command>
        <arg choice="plain"><replaceable>action-id</replaceable></arg>
        <arg choice="plain">
          set-implicit-active
          <replaceable>value</replaceable>
        </arg>
      </para>
      <para>
        Sets the implicit authorizations for local active sessions on
        <replaceable>action-id</replaceable> to <replaceable>value</replaceable>.
      </para>
    </refsect2>

    <refsect2>
      <para>
        <command>polkit-1 action</command>
        <arg choice="plain"><replaceable>action-id</replaceable></arg>
        <arg choice="plain">
          reset-implicit
        </arg>
      </para>
      <para>
        Resets all implicit authorizations on <replaceable>action-id</replaceable> to factory defaults.
      </para>
    </refsect2>

    <refsect2>
      <para>
        <command>polkit-1 run</command>
        <arg choice="plain"><replaceable>action-id</replaceable></arg>
        <arg choice="plain"><replaceable>PROGRAM</replaceable></arg>
        <group rep="repeat">
          <arg choice="plain"><replaceable>ARGUMENTS</replaceable></arg>
        </group>
      </para>
      <para>
        Attempts to ensure that a PolicyKit authorization for <replaceable>action-id</replaceable>
        is available and runs the <replaceable>PROGRAM</replaceable> if an authorization is
        in place. This may involve having to make the user obtain the authorization through
        authentication. If an authorization cannot be obtained, <replaceable>PROGRAM</replaceable>
        will not be runned.
      </para>
    </refsect2>

  </refsect1>

  <refsect1 id="polkit-1-subject">
    <title>SUBJECTS</title>
    <para>
      Subjects represent the entities that may initiate requests requiring
      authorization: processes, user sessions, or DBus services. To determine
      whether a subject has an authorization, PolicyKit determines which
      identities the subject matches.
      See <xref linkend="polkit-1-identity"/> for details about <replaceable>identities</replaceable>.
    </para>
    <para>
      To specify a Unix process as the subject, use
      <literal>unix-process:<replaceable>pid</replaceable></literal>,
      where <replaceable>pid</replaceable> is a numerical process id.
    </para>
    <para>
      To specify a user session as the subject, use
      <literal>unix-session:<replaceable>session-id</replaceable></literal>,
      where <replaceable>session-id</replaceable> is the object path of
      the ConsoleKit session object, e.g. /org/freedesktop/ConsoleKit/Session5.
    </para>
    <para>
      To specify a DBus service, use
      <literal>system-bus-name:<replaceable>bus-name</replaceable></literal>,
      where <replaceable>bus-name</replaceable> is a DBus bus name, either
      a well-known name like org.freedesktop.ConsoleKit, or a canonical
      name like :1.16.
    </para>
  </refsect1>

  <refsect1 id="polkit-1-identity">
    <title>IDENTITIES</title>
    <para>
      Identities represent the entities that authorizations are added to:
      individual users or groups of users.
    </para>
    <para>
      To specify an individual user as identity, use
      <literal>unix-user:<replaceable>uid-or-name</replaceable></literal>,
      where <replaceable>uid-or-name</replaceable> can be either a numeric
      id of a Unix user, or the username of a Unix user.
    </para>
    <para>
      To specify a group of users as identity, use
      <literal>unix-group:<replaceable>gid-or-name</replaceable></literal>,
      where <replaceable>gid-or-name</replaceable> can be either a numeric
      id of a Unix group, or the name of a Unix group.
    </para>
  </refsect1>

  <refsect1><title>AUTHOR</title>
    <para>
      Written by David Zeuthen <email>davidz@redhat.com</email> with
      a lot of help from many others.
    </para>
  </refsect1>

  <refsect1>
    <title>BUGS</title>
    <para>
      Please send bug reports to either the distribution or the
      polkit-devel mailing list,
      see the link <ulink url="http://lists.freedesktop.org/mailman/listinfo/polkit-devel"/>
      on how to subscribe.
    </para>
  </refsect1>

  <refsect1>
    <title>SEE ALSO</title>
    <para>
      <citerefentry>
        <refentrytitle>PolicyKit-1</refentrytitle><manvolnum>8</manvolnum>
      </citerefentry>
    </para>
  </refsect1>
</refentry>
